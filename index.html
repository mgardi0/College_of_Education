<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
</head>
<body style="font-family: sans-serif; text-align: center; padding: 50px;">

    <h1>ØªÛØ³ØªÛŒ Ø¨Û•Ø³ØªÙ†Û•ÙˆÛ•ÛŒ Ø¯Ø§ØªØ§Ø¨Û•ÛŒØ³</h1>
    
    <div id="status-box" style="padding: 20px; background-color: yellow; font-size: 20px; font-weight: bold; border-radius: 10px;">
        â³ Ú†Ø§ÙˆÛ•Ú•Û Ø¨Û•ØŒ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ Ø¯Ø±ÙˆØ³Øª Ø¯Û•Ú©Ø±ÛØª...
    </div>

    <p id="error-details" style="color: red; margin-top: 20px;"></p>

    <script>
        // 1. Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ ÙØ§ÛŒÛ•Ø±Ø¨Û•ÛŒØ³
        const firebaseConfig = {
            apiKey: "AIzaSyBhv5zKnpk4DV1w_s9y2vbrv17Fmdyw1qs",
            authDomain: "college-of-education-f5c3e.firebaseapp.com",
            projectId: "college-of-education-f5c3e",
            storageBucket: "college-of-education-f5c3e.firebasestorage.app",
            messagingSenderId: "1014558650015",
            appId: "1:1014558650015:web:82a40961bfd5f750f4bcaa",
            measurementId: "G-1WJM3VEJQH"
        };

        // 2. Ù‡Û•ÙˆÚµÛŒ Ù¾Û•ÛŒÙˆÛ•Ø³ØªØ¨ÙˆÙˆÙ†
        try {
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            
            // 3. Ù‡Û•ÙˆÚµÛŒ Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ØªØ§ÛŒÛ•Ú© Ø¨Û† ØªÛØ³Øª
            document.getElementById('status-box').innerText = "ğŸ”„ Ø®Û•Ø±ÛŒÚ©Û• Ø¯Ø§ØªØ§ Ø¯Û•Ù†ÛØ±ÛØª...";
            
            db.collection("connection_test").add({
                test_message: "Ø³ÚµØ§Ùˆ! Ø¦Û•Ù…Û• Ø¨Û† ØªÛØ³ØªÛ•",
                time: new Date().toString()
            })
            .then((docRef) => {
                // Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ø¨ÙˆÙˆ
                const box = document.getElementById('status-box');
                box.innerText = "âœ… Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ø¨ÙˆÙˆ! Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ Ù‡Û•ÛŒÛ•.";
                box.style.backgroundColor = "#90EE90"; // Ú•Û•Ù†Ú¯ÛŒ Ø³Û•ÙˆØ²
                box.style.color = "darkgreen";
            })
            .catch((error) => {
                // Ú©ÛØ´Û• Ù„Û• Ù†Ø§Ø±Ø¯Ù† (Rules)
                const box = document.getElementById('status-box');
                box.innerText = "âŒ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ Ù‡Û•ÛŒÛ• Ø¨Û•ÚµØ§Ù… Ø¯Ø§ØªØ§ Ù†Ø§Ù†ÛØ±ÛØª (Rules).";
                box.style.backgroundColor = "#FFB6C1"; // Ú•Û•Ù†Ú¯ÛŒ Ø³ÙˆØ±
                document.getElementById('error-details').innerText = "Ù‡Û•ÚµÛ•: " + error.message;
            });

        } catch (error) {
            // Ú©ÛØ´Û• Ù„Û• Ú©Û†Ø¯ (Config)
            const box = document.getElementById('status-box');
            box.innerText = "âŒ Ù‡Û•ÚµÛ• Ù„Û• Ú©Û†Ø¯ÛŒ ÙØ§ÛŒÛ•Ø±Ø¨Û•ÛŒØ³.";
            box.style.backgroundColor = "red";
            box.style.color = "white";
            document.getElementById('error-details').innerText = error.message;
        }
    </script>

</body>
</html>
